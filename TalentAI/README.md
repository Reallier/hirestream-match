# TalentAI - æ™ºèƒ½æ‹›è˜åŒ¹é…ç³»ç»Ÿ

åŸºäºŽ RAG çš„æ™ºèƒ½äººæ‰åŒ¹é…ä¸Žç®€åŽ†ç®¡ç†ç³»ç»Ÿ

## ðŸš€ ç”Ÿäº§çŽ¯å¢ƒçŠ¶æ€

- **âœ… éƒ¨ç½²çŠ¶æ€**: å·²ä¸Šçº¿è¿è¡Œ
- **ðŸŒ å‰ç«¯è®¿é—®**: https://talentai.reallier.top:5443
- **ðŸ”— API è®¿é—®**: https://api.talentai.reallier.top:5443
- **ðŸ“Š ç³»ç»ŸçŠ¶æ€**: æ­£å¸¸è¿è¡Œä¸­

## æ ¸å¿ƒåŠŸèƒ½

### 1. JDâ†’åŒ¹é…
- ä»ŽèŒä½æè¿°ä¸­æå–å¿…å¤‡/åŠ åˆ†æŠ€èƒ½
- åŒè·¯å¬å›žï¼ˆå…³é”®è¯+è¯­ä¹‰å‘é‡ï¼‰
- èžåˆæŽ’åºå¹¶æä¾›è¯æ®æ¡
- å¯è§£é‡Šçš„åŒ¹é…ç»“æžœ

### 2. ç®€åŽ†â†’å…¥åº“
- è‡ªåŠ¨è§£æž PDF/DOCX ç®€åŽ†
- æ™ºèƒ½åŽ»é‡ä¸Žåˆå¹¶
- 1-2 åˆ†é’Ÿå†…å¯è¢«æ£€ç´¢
- å®Œæ•´çš„åˆå¹¶è°±ç³»è¿½è¸ª

## æŠ€æœ¯æ ˆ

- **å‰ç«¯**: çº¯é™æ€ HTML/CSS/JS + Nginx
- **åŽç«¯**: Python 3.11+ / FastAPI
- **æ•°æ®åº“**: PostgreSQL 15+ (ç»“æž„åŒ– + FTS + pgvector)
- **LLM**: DashScope API (é€šä¹‰åƒé—®)
- **åå‘ä»£ç†**: Traefik (è‡ªåŠ¨SSLè¯ä¹¦)
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **é•œåƒä»“åº“**: è…¾è®¯äº‘å®¹å™¨é•œåƒæœåŠ¡

## ç³»ç»Ÿæž¶æž„

### å¼€å‘çŽ¯å¢ƒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç•Œé¢   â”‚ â”€â”€â”€> â”‚   FastAPI    â”‚ â”€â”€â”€> â”‚ PostgreSQL  â”‚
â”‚  (Nginx)    â”‚ <â”€â”€â”€ â”‚   Backend    â”‚ <â”€â”€â”€ â”‚ + pgvector  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            v
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ DashScope APIâ”‚
                     â”‚ (é€šä¹‰åƒé—®)   â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”Ÿäº§çŽ¯å¢ƒ
```
[ç”¨æˆ·æµè§ˆå™¨] â†’ HTTPS
    â†“
[Traefik Reverse Proxy] (ç«¯å£:5443)
â”œâ”€â”€ talentai.reallier.top â†’ Frontend Container (nginx:80)
â””â”€â”€ api.talentai.reallier.top â†’ Backend Container (FastAPI:8000)
                                     â†“
                               Database Container (PostgreSQL:5432)
```

## å¿«é€Ÿå¼€å§‹

### ðŸ­ ç”Ÿäº§çŽ¯å¢ƒ (æŽ¨è)

ç³»ç»Ÿå·²éƒ¨ç½²åœ¨ç”Ÿäº§çŽ¯å¢ƒï¼Œå¯ç›´æŽ¥è®¿é—®ï¼š

- **å‰ç«¯ç•Œé¢**: https://talentai.reallier.top:5443
- **API æ–‡æ¡£**: https://api.talentai.reallier.top:5443/docs
- **ç³»ç»ŸçŠ¶æ€**: https://api.talentai.reallier.top:5443/api/stats

### ðŸ  æœ¬åœ°å¼€å‘çŽ¯å¢ƒ

#### å‰ç½®è¦æ±‚

- Docker 20.10+
- Docker Compose 2.0+
- DashScope API Key (é€šä¹‰åƒé—®)

#### ä¸€é”®å¯åŠ¨

```bash
# 1. å¤åˆ¶çŽ¯å¢ƒå˜é‡æ¨¡æ¿
cp backend/.env.example backend/.env

# 2. ç¼–è¾‘ backend/.envï¼Œå¡«å…¥ä½ çš„ DashScope API Key
# DASHSCOPE_API_KEY=sk-your-actual-key-here

# 3. ç»™å¯åŠ¨è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start.sh

# 4. å¯åŠ¨æœåŠ¡
./start.sh
```

æœåŠ¡å¯åŠ¨åŽï¼Œè®¿é—®ï¼š
- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **API æ–‡æ¡£**: http://localhost:8000/docs
- **å¥åº·æ£€æŸ¥**: http://localhost:8000/health

### æ‰‹åŠ¨å¯åŠ¨ï¼ˆä¸ä½¿ç”¨è„šæœ¬ï¼‰

```bash
# æž„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up --build -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down

# å®Œå…¨æ¸…ç†ï¼ˆåŒ…æ‹¬æ•°æ®ï¼‰
docker-compose down -v
```

### API ç«¯ç‚¹

- `POST /api/match` - JD åŒ¹é…å€™é€‰äºº
- `GET /api/search` - å…³é”®è¯æœç´¢
- `POST /api/candidates/ingest` - å¯¼å…¥ç®€åŽ†
- `GET /api/candidates/{id}` - èŽ·å–å€™é€‰äººè¯¦æƒ…
- `POST /api/reindex` - é‡å»ºç´¢å¼•

## è®¾è®¡åŽŸåˆ™

1. **æ¨¡åž‹å³ç´¢å¼•ï¼ŒåŽŸæ–‡ä¸ºçœŸ** - æ£€ç´¢ä¸Žè§£é‡Šäº¤ç»™ LLM+RAG
2. **æ•°æ®åº“åªç®¡èº«ä»½ä¸ŽçŠ¶æ€** - ä¸åšé‡å»ºæ¨¡
3. **æœ€å°ç»„ä»¶ï¼Œæ¸è¿›å¯æ›¿æ¢** - å•ä½“æœåŠ¡ï¼Œç»„ä»¶å¯æ’æ‹”
4. **å¯è§£é‡Šä¼˜å…ˆ** - æŽ’åºæœ‰ç†ç”±ï¼Œåˆå¹¶æœ‰è°±ç³»

## éªŒæ”¶æ ‡å‡†

- âœ… Top10 åˆç†çŽ‡ â‰¥ 70%ï¼Œæ¯æ¡æœ‰ â‰¥2 æ¡è¯æ®
- âœ… å…¥åº“åŽ â‰¤ 2 åˆ†é’Ÿå¯è¢«æ£€ç´¢
- âœ… /match P95 â‰¤ 1 ç§’
- âœ… å¯å›žæº¯ä»»æ„å­—æ®µæ¥æº
- âœ… å‘é‡å¬å›žå…³é—­ä»å¯ç”¨

## License

MIT

## æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨

### 1. ç®€åŽ†å…¥åº“

**Web ç•Œé¢**:
1. è®¿é—®å‰ç«¯é¡µé¢ï¼Œåˆ‡æ¢åˆ°"ç®€åŽ†ä¸Šä¼ "æ ‡ç­¾
2. æ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼  PDF/DOCX æ ¼å¼ç®€åŽ†
3. ç³»ç»Ÿè‡ªåŠ¨è§£æžã€åˆ¤é‡ã€åˆå¹¶ï¼Œ1-2 åˆ†é’Ÿå†…å¯è¢«æ£€ç´¢

**API è°ƒç”¨**:
```bash
curl -X POST "http://localhost:8000/api/candidates/ingest" \
  -F "file=@resume.pdf" \
  -F "source=api_upload"
```

### 2. JD åŒ¹é…

**Web ç•Œé¢**:
1. åˆ‡æ¢åˆ°"JD åŒ¹é…"æ ‡ç­¾
2. è¾“å…¥èŒä½æè¿°
3. å¯é€‰ï¼šè®¾ç½®è¿‡æ»¤æ¡ä»¶ï¼ˆåœ°ç‚¹ã€å¹´é™ç­‰ï¼‰
4. ç‚¹å‡»"å¼€å§‹åŒ¹é…"ï¼ŒæŸ¥çœ‹æŽ’åºç»“æžœå’Œè¯æ®

**API è°ƒç”¨**:
```bash
curl -X POST "http://localhost:8000/api/match" \
  -H "Content-Type: application/json" \
  -d '{
    "jd": "æ‹›è˜ Python åŽç«¯å·¥ç¨‹å¸ˆï¼Œ3å¹´ä»¥ä¸Šç»éªŒï¼Œç†Ÿæ‚‰ FastAPIã€PostgreSQL",
    "top_k": 20,
    "explain": true
  }'
```

### 3. å…³é”®è¯æœç´¢

**Web ç•Œé¢**:
åˆ‡æ¢åˆ°"å€™é€‰äººæœç´¢"æ ‡ç­¾ï¼Œè¾“å…¥å…³é”®è¯è¿›è¡Œå…¨æ–‡æœç´¢

**API è°ƒç”¨**:
```bash
curl "http://localhost:8000/api/search?q=Python&top_k=20"
```

## API ç«¯ç‚¹æ–‡æ¡£

### åŒ¹é…ç›¸å…³
- `POST /api/match` - JD åŒ¹é…å€™é€‰äººï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- `GET /api/search` - å…³é”®è¯æœç´¢å€™é€‰äºº

### ç®€åŽ†ç®¡ç†
- `POST /api/candidates/ingest` - ä¸Šä¼ å¹¶å…¥åº“ç®€åŽ†
- `GET /api/candidates/{id}` - èŽ·å–å€™é€‰äººè¯¦æƒ…
- `GET /api/candidates` - åˆ—å‡ºå€™é€‰äººï¼ˆåˆ†é¡µï¼‰
- `DELETE /api/candidates/{id}` - åˆ é™¤å€™é€‰äºº

### ç´¢å¼•ç®¡ç†
- `POST /api/reindex` - é‡å»ºç´¢å¼•
- `GET /api/stats` - èŽ·å–ç³»ç»Ÿç»Ÿè®¡

### å¥åº·æ£€æŸ¥
- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /` - API ä¿¡æ¯

**å®Œæ•´ API æ–‡æ¡£**: http://localhost:8000/docs

## è®¾è®¡åŽŸåˆ™

1. **æ¨¡åž‹å³ç´¢å¼•ï¼ŒåŽŸæ–‡ä¸ºçœŸ** - æ£€ç´¢ä¸Žè§£é‡Šäº¤ç»™ LLM+RAGï¼›åŽŸå§‹ç®€åŽ†æ–‡æœ¬æ˜¯å”¯ä¸€çœŸç›¸æº
2. **æ•°æ®åº“åªç®¡èº«ä»½ä¸ŽçŠ¶æ€** - ä¸»é”®ã€åŽ»é‡ã€è¿‡æ»¤å­—æ®µã€ç‰ˆæœ¬/æ—¶é—´ã€è¯æ®æŒ‡é’ˆâ€”â€”ä¸åšé‡å»ºæ¨¡
3. **æœ€å°ç»„ä»¶ï¼Œæ¸è¿›å¯æ›¿æ¢** - å•ä½“æœåŠ¡ï¼Œç»„ä»¶å¯æ’æ‹”ï¼Œä»»ä½•ç“¶é¢ˆå¯¹åº”å¯æ›¿æ¢æ–¹æ¡ˆ
4. **å¯è§£é‡Šä¼˜å…ˆ** - æŽ’åºæœ‰ç†ç”±ï¼Œå…¥åº“æœ‰è°±ç³»ï¼Œåˆ é™¤æœ‰å®¡è®¡

## éªŒæ”¶æ ‡å‡†

- âœ… Top10 åˆç†çŽ‡ â‰¥ 70%ï¼Œæ¯æ¡æœ‰ â‰¥2 æ¡è¯æ®
- âœ… å…¥åº“åŽ â‰¤ 2 åˆ†é’Ÿå¯è¢«æ£€ç´¢
- âœ… /match P95 â‰¤ 1 ç§’
- âœ… å¯å›žæº¯ä»»æ„å­—æ®µæ¥æº
- âœ… å‘é‡å¬å›žå…³é—­ä»å¯ç”¨

## é¡¹ç›®ç»“æž„

```
TalentAI/
â”œâ”€â”€ backend/                # åŽç«¯æœåŠ¡
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ resume_parser.py       # ç®€åŽ†è§£æž
â”‚   â”‚   â”œâ”€â”€ deduplication.py       # åŽ»é‡åˆå¹¶
â”‚   â”‚   â”œâ”€â”€ llm_service.py         # LLM æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ indexing_service.py    # ç´¢å¼•ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ matching_service.py    # åŒ¹é…æœåŠ¡
â”‚   â”‚   â””â”€â”€ ingest_service.py      # å…¥åº“æœåŠ¡
â”‚   â”œâ”€â”€ models.py          # æ•°æ®æ¨¡åž‹
â”‚   â”œâ”€â”€ schemas.py         # API Schema
â”‚   â”œâ”€â”€ database.py        # æ•°æ®åº“è¿žæŽ¥
â”‚   â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ main.py            # FastAPI ä¸»ç¨‹åº
â”‚   â””â”€â”€ requirements.txt   # Python ä¾èµ–
â”œâ”€â”€ frontend/              # å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ index.html        # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ app.js            # å‰ç«¯é€»è¾‘
â”‚   â””â”€â”€ nginx.conf        # Nginx é…ç½®
â”œâ”€â”€ database/              
â”‚   â””â”€â”€ init.sql          # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ docker-compose.yml    # Docker ç¼–æŽ’
â”œâ”€â”€ start.sh              # å¯åŠ¨è„šæœ¬
â””â”€â”€ README.md             # è¯´æ˜Žæ–‡æ¡£
```

## å¸¸è§é—®é¢˜

### 1. æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Ÿ
- æ£€æŸ¥ Docker æ˜¯å¦è¿è¡Œ
- ç¡®è®¤ OpenAI API Key å·²æ­£ç¡®é…ç½®
- æŸ¥çœ‹æ—¥å¿—ï¼š`docker-compose logs -f backend`

### 2. åŒ¹é…ç»“æžœä¸ç†æƒ³ï¼Ÿ
- è°ƒæ•´æŽ’åºæƒé‡ï¼ˆbackend/config.pyï¼‰
- å¢žåŠ æ ·æœ¬æ•°æ®
- æ£€æŸ¥ JD æè¿°æ˜¯å¦æ¸…æ™°

### 3. ç®€åŽ†è§£æžå¤±è´¥ï¼Ÿ
- ç¡®è®¤æ–‡ä»¶æ ¼å¼ï¼ˆä»…æ”¯æŒ PDF/DOCXï¼‰
- æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé»˜è®¤é™åˆ¶ 10MBï¼‰
- æŸ¥çœ‹åŽç«¯æ—¥å¿—èŽ·å–è¯¦ç»†é”™è¯¯

### 4. å¦‚ä½•æ¸…ç†æ•°æ®ï¼Ÿ
```bash
# åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰æ•°æ®
docker-compose down -v

# é‡æ–°å¯åŠ¨
./start.sh
```

## æ‰©å±•ä¸Žä¼˜åŒ–

### æ€§èƒ½ä¼˜åŒ–
- **å‘é‡æ•°æ®åº“**: æ›¿æ¢ä¸º Milvus æˆ– Weaviate ä»¥æ”¯æŒæ›´å¤§è§„æ¨¡
- **å…¨æ–‡æœç´¢**: æ›¿æ¢ä¸º ElasticSearch/OpenSearch
- **ä»»åŠ¡é˜Ÿåˆ—**: ä½¿ç”¨ Celery + Redis å¤„ç†å¼‚æ­¥ä»»åŠ¡
- **ç¼“å­˜**: æ·»åŠ  Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®

### åŠŸèƒ½æ‰©å±•
- **å¤šæ¨¡åž‹æ”¯æŒ**: æŽ¥å…¥å¤šä¸ª LLM æä¾›å•†ï¼ˆClaudeã€æ–‡å¿ƒç­‰ï¼‰
- **å­¦ä¹ æŽ’åº**: åŸºäºŽç”¨æˆ·åé¦ˆè®­ç»ƒé‡æŽ’æ¨¡åž‹
- **ç®€åŽ†ç”Ÿæˆ**: æ ¹æ® JD è‡ªåŠ¨ç”Ÿæˆå€™é€‰äººæŽ¨èæŠ¥å‘Š
- **ååŒè¿‡æ»¤**: åŸºäºŽåŽ†å²åŒ¹é…æ•°æ®æŽ¨èç›¸ä¼¼å€™é€‰äºº

## License

MIT